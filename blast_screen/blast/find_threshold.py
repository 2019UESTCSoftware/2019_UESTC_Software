import numpy as np
import matplotlib.mlab as mlab
import matplotlib.pyplot as plt
import csv
import scipy.stats as stats
from functools import reduce

t_15 = [0.7522938131689142, 0.7166611345230425, 0.6807042533157727, 0.6489054147898606, 0.6269914782455402, 0.6120004551370126, 0.5875472342091242, 0.570001063279038, 0.7497908475072999, 0.7140017335075772, 0.6571011476284507, 0.6510612520545231, 0.6288201809214417, 0.6214122547829447, 0.5962864469447985, 0.7472878818456856, 0.711342332492112, 0.6668450686008013, 0.6528002826102302, 0.6294262019886213, 0.6219257348516815, 0.7442868866646586, 0.6932141478361689, 0.6760417475416978, 0.6618375071049668, 0.6384293045285221, 0.7410181346431957, 0.698637116714288, 0.6773378111886552, 0.662937924857369, 0.7296815389408207, 0.7003244721503558, 0.6867976399608311, 0.7256420735111304, 0.7087354292728946, 0.7301775693649627]
t_10 = [0.7379718645051077, 0.7021770845785369, 0.6660581020905679, 0.6337074451857369, 0.6190544577603438, 0.5954503428003506, 0.5703131852970283, 0.5520526746983928, 0.7353124634896424, 0.6993612482092206, 0.6422521148018352, 0.6355361478616385, 0.6207195931418648, 0.6045012537502876, 0.5786611062435922, 0.7326530624741772, 0.6965454118399045, 0.6516689011854249, 0.6369266691255613, 0.6211322254120122, 0.6046234420299139, 0.729464505094336, 0.6782321569615316, 0.6604911819364677, 0.6455726018311875, 0.6214500595861936, 0.7259914560715317, 0.6834095989884967, 0.6613959537943148, 0.6462817277944792, 0.714423147859063, 0.6847056626354542, 0.6704643346959076, 0.710138866342725, 0.6926499486179687, 0.7143399133200344]
t_5 = [0.7164889415093978, 0.6804510096617784, 0.6440888752527607, 0.6185094755816131, 0.5952433963047545, 0.5706251742953576, 0.5444621119288845, 0.5251300918274251, 0.7135948874631562, 0.6774005202616858, 0.6274030819752195, 0.6200110436687538, 0.5964178298031342, 0.5791347522013021, 0.5522230951917827, 0.7107008334169147, 0.6743500308615933, 0.6289046500623601, 0.6210530556408923, 0.5962502956821849, 0.5786700027972628, 0.7072309327388522, 0.6557591706495758, 0.6371653335286226, 0.6211752439205185, 0.604470814643865, 0.7034514382140358, 0.6605683223998098, 0.6374831677028041, 0.6212974322001446, 0.6915355612364268, 0.6612774483631016, 0.6459643767985224, 0.6868840555901169, 0.6685217276355799, 0.6905834292526423]

def norm(l,s):
    plt.figure(dpi=100)
    mu = np.mean(l)
    sigma = np.std(l)
    n, bins, patches = plt.hist(l, 36, rwidth=0.9, normed=True, facecolor = 'blue')
    y = mlab.normpdf(bins,mu,sigma)
    sum = 0
    middle = 0
    for i in range(len(y)):
        if sum > 0.5:
            middle = bins[i]
            break
        else:
            sum+=y[i]*(bins[1]-bins[0])

    plt.plot(bins,y, label = 'middle: %.3f' %middle)
    plt.xlabel('Threshold')
    plt.ylabel('Probability')
    plt.title('histogram: $\mu$ = ' + str(round(mu, 3)) + ', $\sigma$ = '+str(round(sigma,3)))
    plt.legend()
    plt.savefig('whole\/' + s + '.jpg')

norm(t_15 + t_10 + t_5, 'total')